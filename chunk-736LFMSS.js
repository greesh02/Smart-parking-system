import{a as O,b as k,c as T,d as E,e as D,f as z,g as I,h as V,i as A,j as N,k as j,l as B,m as R}from"./chunk-INJLICD2.js";import{E as l,Fa as S,J as g,K as _,O as x,S as c,T as e,U as t,V as v,Y as b,c as p,da as i,fa as C,ha as u,ia as h,ja as f,v as m,va as P,w as y,wa as M,ya as w}from"./chunk-FQTKUZC5.js";function L(s,a){s&1&&(e(0,"span"),i(1,"Find Parking"),t())}function W(s,a){s&1&&(e(0,"span"),i(1,"Searching..."),t())}function G(s,a){s&1&&(m(),e(0,"svg",34),v(1,"circle",35)(2,"path",36),t())}function H(s,a){if(s&1&&(e(0,"option",37),i(1),t()),s&2){let r=a.$implicit;c("value",r.key),l(),C(" ",r.value," ")}}var F=class s{constructor(a,r,n,d){this.cfg=a;this.svc=r;this.router=n;this.resultPageDataService=d}address="";radius=5;vehicleType="CAR";busy=!1;vehicleTypes=[];ngOnInit(){return p(this,null,function*(){yield this.cfg.loadVehicleTypes(),this.vehicleTypes=this.cfg.vehicleTypes,this.vehicleType=this.vehicleTypes[0].key})}findByAddress(){return p(this,null,function*(){this.busy=!0;try{let a=yield this.svc.findByAddress(this.address,this.radius,this.vehicleType);this.resultPageDataService.setData(a),this.resultPageDataService.setVehicleType(this.vehicleTypes.find(r=>r.key===this.vehicleType)?.value||"car"),this.resultPageDataService.setSearchInfo("address",this.address),console.log(this.resultPageDataService.getVehicleType(),"vehicle type set in service"),this.router.navigate(["/results"])}finally{this.busy=!1}})}findNearMe(){return p(this,null,function*(){this.busy=!0,navigator.geolocation.getCurrentPosition(a=>p(this,null,function*(){try{let{latitude:r,longitude:n}=a.coords,d=yield this.svc.findByLatLong(r,n,this.radius,this.vehicleType);d&&!d.coordinates&&(d.coordinates={latitude:r,longitude:n}),this.resultPageDataService.setData(d),this.resultPageDataService.setVehicleType(this.vehicleTypes.find(o=>o.key===this.vehicleType)?.value||"car"),this.resultPageDataService.setSearchInfo("current-location",""),console.log(this.resultPageDataService.getVehicleType(),"vehicle type set in service"),this.router.navigate(["/results"])}finally{this.busy=!1}}),a=>{alert(a.message),this.busy=!1})})}static \u0275fac=function(r){return new(r||s)(g(j),g(B),g(S),g(R))};static \u0275cmp=_({type:s,selectors:[["app-search-page"]],decls:68,vars:12,consts:[[1,"hero"],[1,"hero-container"],[1,"hero-content","animate-fade-in-up"],[1,"hero-header"],[1,"hero-title"],[1,"gradient-text"],[1,"hero-subtitle"],[1,"search-card","card-elevated"],[1,"search-main"],[1,"search-input-wrapper"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"search-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Enter address or landmark...",1,"search-input",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-primary","search-button",3,"click","disabled"],[4,"ngIf"],["class","spinner","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"divider"],[1,"filters"],[1,"filter-row"],[1,"filter-item"],[1,"filter-label"],[1,"input-group"],["type","number","min","1","max","50",1,"filter-input",3,"ngModelChange","ngModel","disabled"],[1,"input-suffix"],[1,"filter-select",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-secondary","near-me-button",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"features"],[1,"feature-item"],[1,"feature-icon"],[1,"feature-text"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"spinner"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4","opacity","0.25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z","opacity","0.75"],[3,"value"]],template:function(r,n){r&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),i(5," Find Smarter Parking "),e(6,"span",5),i(7,"Instantly"),t()(),e(8,"p",6),i(9," Skip the circling. Discover available parking near you in seconds \u2014 powered by AI and real-time updates. "),t()(),e(10,"div",7)(11,"div",8)(12,"div",9),m(),e(13,"svg",10),v(14,"path",11),t(),y(),e(15,"input",12),f("ngModelChange",function(o){return h(n.address,o)||(n.address=o),o}),t()(),e(16,"button",13),b("click",function(){return n.findByAddress()}),x(17,L,2,0,"span",14)(18,W,2,0,"span",14)(19,G,3,0,"svg",15),t()(),e(20,"div",16)(21,"span"),i(22,"OR"),t()(),e(23,"div",17)(24,"div",18)(25,"div",19)(26,"label",20),i(27,"Search Radius"),t(),e(28,"div",21)(29,"input",22),f("ngModelChange",function(o){return h(n.radius,o)||(n.radius=o),o}),t(),e(30,"span",23),i(31,"km"),t()()(),e(32,"div",19)(33,"label",20),i(34,"Vehicle Type"),t(),e(35,"select",24),f("ngModelChange",function(o){return h(n.vehicleType,o)||(n.vehicleType=o),o}),x(36,H,2,2,"option",25),t()()(),e(37,"button",26),b("click",function(){return n.findNearMe()}),m(),e(38,"svg",27),v(39,"path",28)(40,"path",29),t(),y(),e(41,"span"),i(42,"Find Near Me"),t()()()(),e(43,"div",30)(44,"div",31)(45,"div",32),i(46,"\u{1F916}"),t(),e(47,"div",33)(48,"strong"),i(49,"AI-Powered"),t(),e(50,"span"),i(51,"Smart insights"),t()()(),e(52,"div",31)(53,"div",32),i(54,"\u26A1"),t(),e(55,"div",33)(56,"strong"),i(57,"Real-Time"),t(),e(58,"span"),i(59,"Live updates"),t()()(),e(60,"div",31)(61,"div",32),i(62,"\u{1F4CD}"),t(),e(63,"div",33)(64,"strong"),i(65,"Accurate"),t(),e(66,"span"),i(67,"Precise locations"),t()()()()()()()),r&2&&(l(15),u("ngModel",n.address),c("disabled",n.busy),l(),c("disabled",n.busy||!n.address.trim()),l(),c("ngIf",!n.busy),l(),c("ngIf",n.busy),l(),c("ngIf",n.busy),l(10),u("ngModel",n.radius),c("disabled",n.busy),l(6),u("ngModel",n.vehicleType),c("disabled",n.busy),l(),c("ngForOf",n.vehicleTypes),l(),c("disabled",n.busy))},dependencies:[w,P,M,N,z,I,O,E,D,k,A,V,T],styles:['.hero[_ngcontent-%COMP%]{min-height:calc(100vh - 80px);display:flex;align-items:center;justify-content:center;padding:var(--space-3xl) var(--space-lg);background:linear-gradient(135deg,var(--bg-secondary) 0%,var(--bg-tertiary) 100%);position:relative;overflow:hidden}.hero[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:100%;height:100%;background:radial-gradient(circle,var(--primary-light) 0%,transparent 70%);opacity:.3;filter:blur(100px);animation:_ngcontent-%COMP%_pulse 8s ease-in-out infinite}.hero[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-30%;left:-30%;width:80%;height:80%;background:radial-gradient(circle,var(--accent) 0%,transparent 70%);opacity:.2;filter:blur(80px);animation:_ngcontent-%COMP%_pulse 10s ease-in-out infinite reverse}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:.3}50%{transform:scale(1.1);opacity:.4}}.hero-container[_ngcontent-%COMP%]{width:100%;max-width:900px;margin:0 auto;position:relative;z-index:1}.hero-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-2xl)}.hero-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--space-lg)}.hero-title[_ngcontent-%COMP%]{font-size:var(--text-5xl);font-weight:var(--font-weight-bold);line-height:var(--line-height-tight);margin-bottom:var(--space-md);color:var(--text-primary)}.gradient-text[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--accent) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.hero-subtitle[_ngcontent-%COMP%]{font-size:var(--text-lg);color:var(--text-secondary);line-height:var(--line-height-relaxed);max-width:600px;margin:0 auto}.search-card[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-xl);padding:var(--space-xl);box-shadow:var(--shadow-lg)}.search-main[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);margin-bottom:var(--space-lg)}.search-input-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:var(--space-md);width:20px;height:20px;color:var(--text-tertiary);pointer-events:none;z-index:1}.search-input[_ngcontent-%COMP%]{width:100%;padding:var(--space-md) var(--space-md) var(--space-md) calc(var(--space-xl) + var(--space-md));font-size:var(--text-base);border:2px solid var(--border);border-radius:var(--radius-lg);background:var(--bg-secondary);transition:all var(--transition-base)}.search-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);background:var(--surface);box-shadow:0 0 0 4px #3b82f61a}.search-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.search-button[_ngcontent-%COMP%]{padding:var(--space-md) var(--space-xl);font-size:var(--text-base);white-space:nowrap;min-width:140px;display:flex;align-items:center;justify-content:center;gap:var(--space-sm)}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.divider[_ngcontent-%COMP%]{position:relative;text-align:center;margin:var(--space-lg) 0}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:var(--divider)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;padding:0 var(--space-md);background:var(--surface);color:var(--text-tertiary);font-size:var(--text-sm);font-weight:var(--font-weight-medium);text-transform:uppercase;letter-spacing:.05em}.filters[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg)}.filter-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--space-md)}.filter-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.filter-label[_ngcontent-%COMP%]{font-size:var(--text-sm);font-weight:var(--font-weight-semibold);color:var(--text-secondary);margin-bottom:var(--space-xs)}.input-group[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.filter-input[_ngcontent-%COMP%]{padding-right:calc(var(--space-xl) + var(--space-sm));width:100%}.input-suffix[_ngcontent-%COMP%]{position:absolute;right:var(--space-md);font-size:var(--text-sm);color:var(--text-tertiary);pointer-events:none}.filter-select[_ngcontent-%COMP%]{width:100%;padding:var(--space-md);font-size:var(--text-base)}.near-me-button[_ngcontent-%COMP%]{width:100%;padding:var(--space-md) var(--space-xl);display:flex;align-items:center;justify-content:center;gap:var(--space-sm);font-size:var(--text-base)}.near-me-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:20px;height:20px}.features[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--space-lg);margin-top:var(--space-xl)}.feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md);background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);transition:all var(--transition-base)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--primary)}.feature-icon[_ngcontent-%COMP%]{font-size:var(--text-2xl);width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--primary-light);border-radius:var(--radius-full);flex-shrink:0}.feature-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs)}.feature-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:var(--text-base);font-weight:var(--font-weight-semibold);color:var(--text-primary)}.feature-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--text-sm);color:var(--text-secondary)}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{padding:var(--space-xl) var(--space-md);min-height:calc(100vh - 70px)}.hero-title[_ngcontent-%COMP%]{font-size:var(--text-3xl)}.hero-subtitle[_ngcontent-%COMP%]{font-size:var(--text-base)}.search-card[_ngcontent-%COMP%]{padding:var(--space-lg)}.search-main[_ngcontent-%COMP%]{flex-direction:column;gap:var(--space-md)}.search-button[_ngcontent-%COMP%]{width:100%}.filter-row[_ngcontent-%COMP%], .features[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){.hero-title[_ngcontent-%COMP%]{font-size:var(--text-2xl)}.search-card[_ngcontent-%COMP%]{padding:var(--space-md)}.feature-item[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})};export{F as SearchPageComponent};
